- 用于稳压和滤波的电源电路
	![[电源电路.png]]
	- VCC是电源的输入电压源，为电路提供主要的工作电压
	- 电感L1（CBW221）：
		- 电感L1标号为VBW221，通常用于==滤波==。它可以阻止==高频噪声==进入后续电路，同时允许==直流电流==通过，保持电流的平稳性。
		- 在电源电路中，电感主要用于电源中的==高频干扰==，起到==低通滤波==的作用。
	- 电容C2（4μF/25V）和C3（100nF/16V）：
		- C2（4μF/25V）: 这是一个==大==容量电容，用于滤波直流的==低频噪声==，使电压更加平滑。
		- C3（100nF/16V）：这是一个==小==容量电容，用于滤除==高频噪声==，通常与大容量电容配合使用。
		- C2和C3的组合可以起到==宽频滤波==的作用，C2滤除低频噪声，C3滤除高频噪声，提高电源的稳定性。
		- 这些电容均接到地（GND），形成==旁路电容==结构，可以有效地抑制电源的纹波和干扰。
	- MCU3V3输出：
		- 经过电感L1和滤波电容C2、C3处理后，输出稳定的3.3V电压（MCU3V3），为MCU（微控制器）等低功耗器件提供稳定的工作电压。
		- 此电压经过滤波后，能够有效地减少电源噪声对MCU的影响，确保MCU的稳定工作。
- 8MHz晶振电路
	![[Pasted image 20241112075935.png]]
	- 晶振（Y1-DSX321G 8MHz）
		- Y1是一个8MHz的==石英晶振==，标号为DSX321G。它通过==振荡==产生稳定的8MHz==时钟信号==，用于驱动微控制器等数字电路。
		- 晶振有四个引脚，其中引脚2和3连接到电路的两端，引脚1和4接地，以提供更稳定的参考信号。
	- 电容（C1和C4 - 22pF/16V）
		- C1和C4都是22pF的电容，通常称为==负载电容==，连接再晶振的两端和地之间。他们的作用是为晶振提供合适的负载条件，以确保==稳定的振荡频率==。
		- 负载电容的选择对于晶振的频率稳定性至关重要，过大或者过小都会影响振荡频率。
	- 电阻（R11 - 330Ω）
		- R11是一个330Ω的电阻，串联在OSC8MHz输出端，用于==限制电流==和==抑制高频干扰==。
		- 该电阻有助于==减少振荡信号的电流尖峰==，降低干扰并提高信号的完整性。
	- 信号输出（OSC8MHz1和OSC8MHz0）
		- OSC8MHz1和OSC8MHz0是时钟信号的输出端，经过晶振振荡后，这些引脚提供稳定的8MHz时钟信号。
		- 这些时钟信号通常接到微控制器的时钟输入引脚，为其提供时钟驱动。
	- 总结
		- 该电路通过晶振Y1、负载电容C1和C4、以及限流电阻R11的组合，实现了8MHz的时钟信号输出。该时钟信号通常用于为微控制器或其他数字逻辑电路提供==时序基准==。晶振电路的设计能够提供一个相对稳定和准确的时钟频率，确保微控制器的稳定运行。
- MCU的3.3V电源滤波和复位电路
	![[Pasted image 20241112082140.png]]
	- 电源滤波电容（C10、C11、C12）
		- 这三个电容（每个100nF/16V）连接在MCU3V3电源线上，用于==滤波==。
		- 100nF电容用于==滤除高频噪声==，帮助减少电源中的高频干扰。
		- 多个==电容并联进一步增强滤波效果==，使电源更加稳定，适合为MCU（微控制器）等对电源干扰敏感的设备提供稳定的3.3V电压。
	- 接地（GND和PE）
		- 电路中的==GND表示电源地==，与电源滤波电容相连。
		- ==PE（保护接地）==通常用于==静电放电保护==或==抗干扰措施==，帮助==减少外部电气干扰对电路的影响。==
	- 复位电路（R16和C9）
		- R16是一个10KΩ的电阻，连接在NRST引脚和电源3.3V之间，起到上拉作用。
		- C9（100nF/16V）与NRST引脚并联接地，形成复位电容。
		- 该电容-电阻组合提供==复位延迟==，防止上==电瞬间的电压==波动导致==误复位==。
		- 当需要复位MCU时，可以将NRST引脚拉低（接地），此时==通过R16和C9的RC延时==，会使复位引脚有一定的==低电平持续时间==，确保复位信号有效。
	- 总结
		- 该电路展示了为MCU提供稳定的3.3V电源滤波电路和一个可靠的复位电路。滤波电容阵列（C10、C11和C12）帮助稳定电源，减小噪声；复位电阻R16和电容C9提供了一个稳定的复位电路，确保MCU在上电或复位操作时的可靠性。这种设计适合用于对电源稳定性和复位要求较高的数字电路中。
- RTC电路
	![[Pasted image 20241112083910.png]]
	- 时钟晶振部分
		- X1（FC135）：晶振通常是32.768kHz，用于为RTC（实时时钟）芯片PCF85163T提供==稳定的时钟源==。
		- C16和C19（12pF/16V）：连接在晶振两端与地之间作为==负载电容==，确保晶振的正常工作，保证频率的稳定。
		- R45（0Ω）：一个零欧姆电阻，起到==连接或者调试==的作用，允许在电路调试时容易==插入或移除该电阻==。
	- RTC芯片（PCF85163T）
		- U2（PCF85163T）：这是主芯片，用于提供实时时钟功能。
			- OSCI和OSCO（引脚1和2）：与==外部晶振X1连接，为RTC提供时钟==。
			- INT（引脚3）：==中断输出引脚==，用于向MCU发送==定时中断信号==，通常用于==定期唤醒MCU==。
			- VSS（引脚4）：地线。
			- SDA和SCL（引脚5和引脚6）：==I²C总线接口==，与==MCU通信==，进行==数据传输==。
			- VDD（引脚8）：电源输入引脚。
	- 电源滤波
		- C17（100nF/16V）：连接在VDD与地之间的==去耦电容==，用于滤除电源中的==高频噪声==，确保RTC芯片的稳定工作。
	- 电池备份电路
		- BAT1（CR1220电池）：是一颗3V纽扣电池，用于在主电源断电时为RTC芯片==提供备用电源==，确保时钟数据不会丢失。
		- D4和D5（DSK14）
			- 这两个肖特基二极管用于==防止电流回流==。
			- 当主电源（MCU3V3）供电时，二极管D4导通，电池不会向RTC供电，避免电池的不必要消耗。
			- 当主电源断开时，D4切断，D5导通，电池为RTC提供备用电源。
		- R43和R44（47KΩ）：上拉电阻，通常用于==稳定I²C总线的SCL和SDA线==，确保信号稳定。
	- 电路工作逻辑
		- 当主电源（MCU3V3）供电时，VDD由MCU3V3供电，D4导通，而D5截止，RTC芯片使用主电源工作。
		- 当主电源断电时，D4截止，D5导通，电池BAT1通过D5为VDD供电，从而维持RTC芯片的工作，确保时钟不会丢失。
	- 总结
		- 该RTC电路设计保证了PCF85163T在主电源断电的情况下仍能通过电池保持运行，利用二极管D4和D5的切换实现主电源和电池之间的自动切换。==负载电容C16和C19==配合晶振为RTC==提供稳定的时钟源==，而==C17用于滤除电源噪声==，保证时钟精确稳定。这种设计在便携设备、低功耗应用中常见，用于保存时间信息。
- 存储单元
	![[Pasted image 20241115080936.png]]
	- 供电电路
		- MCU3V3：提供3.3V电源电压，供给存储芯片。
		- C24（100nF/16V）：这是一个==去耦电容==，连接在VCC和GND之间，用于==滤除电源中的高频噪声==，确保芯片的稳定工作。
	- SPI存储芯片（U5-W25Q64FVSSIG）
		- 引脚定义
			- /CS：==片选引脚==，低电平有效。当==/CS拉低==时，芯片被选中并开始==与MCU通信==。
			- DO：==数据输出引脚==，用于将==数据从芯片传送到MCU==（SPI总线的MISO信号）。
			- /WP：==写保护引脚==，当拉低时可以保护芯片内的数据免受写操作影响。
			- GND：接地端。
			- DI：==数据输入引脚==，用于==接收MCU发送的数据==（SPI总线的MOSI信号）。
			- SCK：==串行时钟输入==，用于接收MCU提供的时钟信号。
			- HOLD：==暂停信号==，当该引脚拉低时可以暂停通信。
			- VCC：==电源输入端==，连接到3.3V电源。
	- 外部电路连接
		- R65（47KΩ）：上拉电阻，连接在/CS引脚与电源之间。确保在没有其他设备控制/CS引脚时，==芯片默认保持不被选中状态==。
		- SPI接口
			- SPI1_MISO：连接到DO引脚，用于==数据输出==。
			- SPI1_MOSI：连接到DI引脚，用于==数据输入==。
			- SPI1_SCK：连接到SCK引脚，提供==时钟信号==。
			- SPI_FlashCS：连接到/CS引脚，==控制芯片的选择状态==。
	- 电路工作原理
		- 当MCU需要与存储芯片通信时，会==将SPI_FlashCS（CS引脚）拉低==，==选中芯片==。
		- SPI1_SCK==提供时钟信号==，==同步数据的传输==。
		- SPI1_MOSI用于向芯片发送数据，而SPI1_MISO用于从芯片接收数据。
		- /WP（写保护）和/HOLD引脚提供额外的控制功能，单这个在电路中他们并未连接到其他控制电路，通常保持未使用状态。
	- 总结
		- 该电路设计了一个通过==SPI==接口控制的存储单元。MCU可以通过SPI接口与W25Q64FVSSIG闪存芯片通信，用于存储和读取数据。去耦电容C24确保电源稳定，而上拉电阻R65保持芯片在未使用时不选中状态。这种电路常用于需要存储配置数据或日志信息的系统中。
- 用于调试的连接电路
	![[Pasted image 20241115082845.png]]
	- 调试接口（J1）
		- J1接口标注为“Debug”，通常用于==SWD（串行线调试）==协议与CPU通信和调试。J1接口的各个引脚定义如下：
			- MCU3V3：为调试接口提供3.3V电源
			- SWDIO：SWD数据输入/输出引脚，负责==调试数据的传输==
			- SWCLK：SWD时钟引脚，==提供调试时钟信号==，与WSDIO配合使用实现数据同步。
			- GND：地线，用于==电路的公共参考点位==。
			- NRST：复位引脚，连接到CPU的NRST引脚，==允许外部设备控制CPU复位==。
	- 复位引脚（NRST）
		- NRST：这是连接到CPU的复位引脚，通过外部复位信号可以控制CPU进入复位状态。
		- 此引脚在调试过程中尤为重要，允许调试工具在必要时对CPU进行复位，以==重新启动程序==或进行其他操作。
	- 电路功能
		- 该调试接口通过SWD协议实现数据传输，SWDIO和SWCLK引脚分别用于==传输数据==和==时钟信号==。
		- NRST引脚则用于复位CPU，调试工具可以通过J1接口对CPU进行调试和控制。
		- 3.3V电源提供给调试接口，确保调试过程中电压匹配，GND为系统提供公共接地点。
	- 总结
		- 此电路设计用于通过SWD接口进行调试，允许工程师在开发和调试过程中控制和检测CPU的运行状态。通过MCU3V3为调试器供电，NRST引脚用于外部复位。该设计使得调试工具能够方便地连接到CPU，进行软件下载、调试和复位等操作。